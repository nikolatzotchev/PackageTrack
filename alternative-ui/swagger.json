{"swagger":"2.0","info":{"description":"Api Documentation","version":"1.0","title":"Api Documentation","termsOfService":"urn:tos","contact":{},"license":{"name":"Apache 2.0","url":"http://www.apache.org/licenses/LICENSE-2.0"}},"host":"localhost:8080","basePath":"/","tags":[{"name":"trip-controller","description":"Trip Controller"},{"name":"device-controller","description":"Device Controller"}],"paths":{"/api/v1/devices":{"get":{"tags":["device-controller"],"summary":"listDevices","operationId":"listDevicesUsingGET","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/Device"}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}},"post":{"tags":["device-controller"],"summary":"registerNewDevice","operationId":"registerNewDeviceUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"serialNo","description":"serialNo","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Device"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/v1/devices/{id}/":{"delete":{"tags":["device-controller"],"summary":"deleteDevice","operationId":"deleteDeviceUsingDELETE","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"OK"},"204":{"description":"No Content"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}}}},"/api/v1/devices/{id}/lastTrip":{"get":{"tags":["device-controller"],"summary":"lastTrip","operationId":"lastTripUsingGET","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Trip"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/v1/devices/{id}/reports":{"post":{"tags":["device-controller"],"summary":"addReport","operationId":"addReportUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"integer","format":"int64"},{"in":"body","name":"report","description":"report","required":true,"schema":{"$ref":"#/definitions/ReportDTO"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Report"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/v1/devices/{id}/trips":{"get":{"tags":["device-controller"],"summary":"allTrips","operationId":"allTripsUsingGET","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/Trip"}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/v1/trips":{"get":{"tags":["trip-controller"],"summary":"listTrips","operationId":"listTripsUsingGET","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"includeCompletedTrips","in":"query","description":"includeCompletedTrips","required":false,"type":"boolean","default":false}],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/Trip"}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}},"post":{"tags":["trip-controller"],"summary":"createTrip","operationId":"createTripUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"request","description":"request","required":true,"schema":{"$ref":"#/definitions/CreateTripDTO"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Trip"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/v1/trips/not-started":{"get":{"tags":["trip-controller"],"summary":"listNotStartedTrips","operationId":"listNotStartedTripsUsingGET","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/Trip"}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/v1/trips/{id}/":{"get":{"tags":["trip-controller"],"summary":"getTrip","operationId":"getTripUsingGET","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Trip"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/v1/trips/{id}/configurations":{"get":{"tags":["trip-controller"],"summary":"getConfiguration","operationId":"getConfigurationUsingGET","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/TripConfiguration"}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}},"post":{"tags":["trip-controller"],"summary":"setConfiguration","operationId":"setConfigurationUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"integer","format":"int64"},{"in":"body","name":"tripConfigurationDTO","description":"tripConfigurationDTO","required":true,"schema":{"$ref":"#/definitions/TripConfigurationDTO"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/TripConfiguration"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}},"delete":{"tags":["trip-controller"],"summary":"deleteConfiguration","operationId":"deleteConfigurationUsingDELETE","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"OK"},"204":{"description":"No Content"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}}}},"/api/v1/trips/{id}/endTrip":{"post":{"tags":["trip-controller"],"summary":"endTrip","operationId":"endTripUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Trip"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/v1/trips/{id}/reports":{"get":{"tags":["trip-controller"],"summary":"getReports","operationId":"getReportsUsingGET","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/Report"}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/v1/trips/{id}/startTrip":{"post":{"tags":["trip-controller"],"summary":"startTrip","operationId":"startTripUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Trip"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}}},"definitions":{"CreateTripDTO":{"type":"object","properties":{"description":{"type":"string"},"deviceId":{"type":"integer","format":"int64"}}},"Device":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"serialNo":{"type":"string"}}},"Report":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"incidentValues":{"type":"array","items":{"$ref":"#/definitions/Value"}},"latitude":{"type":"number","format":"double"},"longitude":{"type":"number","format":"double"},"timestamp":{"type":"string","format":"date-time"},"trip":{"$ref":"#/definitions/Trip"}}},"ReportDTO":{"type":"object","properties":{"incidentValues":{"type":"array","items":{"$ref":"#/definitions/Value"}},"latitude":{"type":"number","format":"double"},"longitude":{"type":"number","format":"double"},"timestamp":{"type":"string","format":"date-time"}}},"Trip":{"type":"object","properties":{"description":{"type":"string"},"device":{"$ref":"#/definitions/Device"},"endTime":{"type":"string","format":"date-time"},"id":{"type":"integer","format":"int64"},"startTime":{"type":"string","format":"date-time"}}},"TripConfiguration":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"max":{"type":"number","format":"double"},"metric":{"type":"string","enum":["Temperature","Temperature_Fahrenheit","Humidity"]},"min":{"type":"number","format":"double"},"trip":{"$ref":"#/definitions/Trip"}}},"TripConfigurationDTO":{"type":"object","properties":{"max":{"type":"number","format":"double"},"metric":{"type":"string","enum":["Temperature","Temperature_Fahrenheit","Humidity"]},"min":{"type":"number","format":"double"}}},"Value":{"type":"object","properties":{"metric":{"type":"string","enum":["Temperature","Temperature_Fahrenheit","Humidity"]},"value":{"type":"number","format":"double"}}}}}